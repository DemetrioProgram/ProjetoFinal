CREATE DATABASE OFICINA;

USE OFICINA;

CREATE TABLE `cliente` (
  `IDCLIENTE` int(11) NOT NULL AUTO_INCREMENT,
  `NOME` varchar(255) DEFAULT NULL,
  `CPF` char(11) DEFAULT NULL,
  `TELEFONE` varchar(13) DEFAULT NULL,
  `AUTOMOVEL` varchar(255) DEFAULT NULL,
  `PLACA` char(7) DEFAULT NULL,
  PRIMARY KEY (`IDCLIENTE`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

CREATE TABLE `mecanico` (
  `IDMECANICO` int(11) NOT NULL AUTO_INCREMENT,
  `NOME` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`IDMECANICO`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

CREATE TABLE `orcamento` (
  `IDORCAMENTO` int(11) NOT NULL AUTO_INCREMENT,
  `IDPECA` int(11) NOT NULL,
  `IDCLIENTE` int(11) NOT NULL,
  `IDMECANICO` int(11) NOT NULL,
  `SERVICO` varchar(255) DEFAULT NULL,
  `DESCRICAO` varchar(255) DEFAULT NULL,
  `VALOR` double(4,2) DEFAULT NULL,
  `DATAINICIO` date DEFAULT NULL,
  `DATAFINAL` date DEFAULT NULL,
  `SITUACAO` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`IDORCAMENTO`),
  KEY `IDPECA` (`IDPECA`),
  KEY `IDCLIENTE` (`IDCLIENTE`),
  KEY `IDMECANICO` (`IDMECANICO`),
  CONSTRAINT `orcamento_ibfk_1` FOREIGN KEY (`IDPECA`) REFERENCES `peca` (`IDPECA`),
  CONSTRAINT `orcamento_ibfk_2` FOREIGN KEY (`IDCLIENTE`) REFERENCES `cliente` (`IDCLIENTE`),
  CONSTRAINT `orcamento_ibfk_3` FOREIGN KEY (`IDMECANICO`) REFERENCES `mecanico` (`IDMECANICO`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

CREATE TABLE `peca` (
  `IDPECA` int(11) NOT NULL AUTO_INCREMENT,
  `NOMEPECA` varchar(255) DEFAULT NULL,
  `DATAENTRADA` date DEFAULT NULL,
  `DATASAIDA` date DEFAULT NULL,
  PRIMARY KEY (`IDPECA`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

CREATE TABLE `usuario` (
  `IDUSUARIO` int(11) NOT NULL AUTO_INCREMENT,
  `LOGIN` varchar(255) DEFAULT NULL,
  `SENHA` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`IDUSUARIO`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

INSERT INTO USUARIO (IDUSUARIO,LOGIN,SENHA) VALUES (1,KARLA,123);
INSERT INTO USUARIO (IDUSUARIO,LOGIN,SENHA) VALUES (2,KEVIN,321);
INSERT INTO USUARIO (IDUSUARIO,LOGIN,SENHA) VALUES (3,JULIA,231);

INSERT INTO MECANICO (IDMECANICO,NOME) VALUES (1,GODOFREDO);
INSERT INTO MECANICO (IDMECANICO,NOME) VALUES (2,JEORGE);
INSERT INTO MECANICO (IDMECANICO,NOME) VALUES (3,LUCAS);